function setCalendar(a,e){a||(moment.locale("nl"),a=now.format("MM"),e=now.format("YYYY"));var t,r=1,o=moment(a+"-"+e,"MM-YYYY"),n=o.clone().startOf("month"),d=o.format("MMMM YYYY");d=d.substr(0,1).toUpperCase()+d.substr(1),$("div[class*='day']").removeClass("today").removeClass("newMonth").data("datum","").removeClass("oldMonth"),$(".month").text(d),lastDay=o.clone().endOf("month"),firstDay=o.clone().startOf("month"),$("div[class*='weekdaydisplay']").each(function(a){var e=$(this).attr("class");(e=e.slice(-1))==firstDay.format("E")&&(t=parseInt(e))});for(var c=t-1;c>=1;c--)$("div[class*='day1"+c+"']").text(n.subtract(1,"day").format("DD")).addClass("oldMonth").data("datum",n.clone());for(c=1;c<=parseInt(lastDay.format("D"));c++)c==now.format("DD")&&now.format("MM-YYYY")==o.format("MM-YYYY")&&$("div[class*='day"+r+t+"']").addClass("today"),currentmonthday=moment(c+"-"+o.format("MM-YYYY"),"D-MM-YYYY"),$("div[class*='day"+r+t+"']").text(c).data("datum",currentmonthday),7==t&&(t=0,r++),t++;var s=parseInt(r.toString()+t.toString());for(c=1;c<=68-s;c++)nextmonthday=moment(c+"-"+o.clone().add(1,"month").format("MM-YYYY"),"D-MM-YYYY"),$("div[class*='day"+r+t+"']").text(c).data("datum",nextmonthday).addClass("newMonth"),7==t&&(t=0,r++),t++}function getCalendarData(a,e){newDate=moment(a+"-"+e,"MM-YYYY"),$.get("DATA/"+e+"/"+a+".json",function(a){}).done(function(a){})}function growModal(){console.log($(".eventitem").height()+" "+$(".card__front").height()+" "+$(".card__back").height()),0===frontcardheight&&(frontcardheight=$(".card__front").height()),0===rearcardheight&&(rearcardheight=$(".card__back").height()+50)}var now=moment(),currmonth=now.clone(),frontcardheight=0,rearcardheight=0;$(document).ready(function(){getCalendarData(now.format("MM"),now.format("YYYY")),$(function(){$('[data-toggle="tooltip"]').tooltip()}),$(".eventitem").click(function(){$(".large-modal").modal("show")}),$(".month").click(function(){currmonth=now.clone(),$(".daypicker").addClass("flipped"),$(".daypicker").clone().appendTo(".eventkalender").removeClass("flipped").addClass("flippedback"),setTimeout(function(){setCalendar(now.format("MM"),now.format("YYYY")),$(".daypicker.flippedback").removeClass("flippedback"),$(".daypicker.flipped").remove()},200)}),$("div[class*='box navigation']").click(function(){classname=$(this).attr("class").slice(-1),2==classname&&(currmonth.add(1,"month"),$(".daypicker").addClass("flipped"),$(".daypicker").clone().appendTo(".eventkalender").removeClass("flipped").addClass("flippedback"),setTimeout(function(){setCalendar(currmonth.format("MM"),currmonth.format("YYYY")),$(".daypicker.flippedback").removeClass("flippedback"),$(".daypicker.flipped").remove()},200)),1==classname&&(currmonth.subtract(1,"month"),$(".daypicker").addClass("flippedback"),$(".daypicker").clone().appendTo(".eventkalender").removeClass("flippedback").addClass("flipped"),setTimeout(function(){setCalendar(currmonth.format("MM"),currmonth.format("YYYY")),$(".daypicker.flipped").removeClass("flipped"),$(".daypicker.flippedback").remove()},200))}),$(".eventdetails .navigation .btn").click(function(){if("Terug"!=$(this).text()){var a="https://maps.googleapis.com/maps/api/staticmap?center=Brunnenstraße+53,+13355+Berlin,+Germany&zoom=13&maptype=roadmap&markers=Brunnenstraße+53,+13355+Berlin,+Germany&key=AIzaSyDuKiZv44jf9yvpFjamLW3gnJfetfEG7ts";a=a+"&size="+($(".card__front").width()+"x200"),$(".card__back .smallcontentback img").attr("src",a),$(this).text("Terug"),$(".card__front").addClass("flipped"),$(".card__front").addClass("lowzindex"),$(".card__back").addClass("fullopacity"),growModal(),$(".card__front").height(rearcardheight)}else $(".card__front").removeClass("flipped"),$(".card__back").removeClass("fullopacity"),$(".card__front").removeClass("lowzindex"),$(this).text("meer informatie"),$(".card__front").height(frontcardheight)}),console.timeEnd("calendarReadAndStore")});